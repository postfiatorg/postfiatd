name: Docker Build - Mainnet
on:
  workflow_dispatch:
  push:
    branches:
      - mainnet
    paths:
      - 'src/**'
      - 'include/**'
      - 'cfg/**'
      - 'cmake/**'
      - 'external/**'
      - 'Builds/**'
      - 'CMakeLists.txt'
      - 'conanfile.py'
      - 'Dockerfile'
      - 'scripts/docker-entrypoint.sh'
      - 'scripts/logrotate-postfiatd.conf'
jobs:
  build-mainnet:
    uses: ./.github/workflows/build.yml
    with:
      network: mainnet
      source_ref: mainnet
    secrets: inherit
